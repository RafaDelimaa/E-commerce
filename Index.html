<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>

      #Produtos {
        max-width: 900px;
        margin: 0 auto;
        padding: 0 2%;
        display: flex;
      }
      #Carrinho {
        max-width: 900px;
        margin: 0 auto;
        padding: 0 2%;
        display: block;
      }

      .produto-single {
        width: 33.3%;
        padding: 0 20px;
      }

    </style>
    <title>Loja Virtual</title>
  </head>
  <body>
    <h2>Vitrine:</h2>
    <div id="Produtos">
    </div>
    <h2>Carrinho:</h2>
    <div id="Carrinho">
    </div>
    <script>
      const items = [
        {
          id: 0,
          nome: "Maquiagem",
          img: "teste.jpg",
          quantidade: 0,
        },
        {
          id: 1,
          nome: "Acessorios",
          img: "teste.jpg",
          quantidade: 0,
        },
        {
          id: 2,
          nome: "Skincare",
          img: "teste.jpg",
          quantidade: 0,
        },
      ];

      inicializarLoja = () => {
        var containerProdutos = document.getElementById("Produtos");
        items.map((val) => {
          containerProdutos.innerHTML +=
            `

          <div class="produto-single">
            <img width="200" src="` + val.img + `"/>
            <p>` + val.nome + `</p>
            <a key="` + val.id + `" href="#">Adicionar ao carrinho!<a/>`;
        });
      };

      inicializarLoja();

      atualizarCarrinho = () => {
        var containerCarrinho = document.getElementById("Carrinho");
        containerCarrinho.innerHTML = "";
        items.map((val) => {
          if (val.quantidade > 0) {
            containerCarrinho.innerHTML +=
              `
            <p>` + val.nome + ` quantidade: ` + val.quantidade + `</P>
            <hr>
          `;
          }
        });
      };

      var links = document.getElementsByTagName("a");

      for (var i = 0; i < links.length; i++) {
        links[i].addEventListener("click", function () {
          let key = this.getAttribute("key");
          items[key].quantidade++;
          atualizarCarrinho();
        });
      }
    </script>
  </body>
</html>
